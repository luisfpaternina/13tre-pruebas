<odoo>
  <data>
    <record id="view_paycheck" model="ir.ui.view">
        <field name="name">view_payroll_paycheck</field>
        <field name="model">hr.payslip</field>
        <field name="inherit_id" ref="hr_payroll.view_hr_payslip_form"/>
        <field name="arch" type="xml">
            <xpath expr="//button[@name='action_payslip_done']" position="after">
                <button string="SEND EMAIL" name="action_paycheck_sent" type="object" class="oe_highlight"
                    attrs="{'invisible':[('state','in',['draft','verify','cancel'])]}"
                />
            </xpath>
            <xpath expr="//sheet" position="after">
                <div class="o_attachment_preview"/>
            </xpath>
        </field>
    </record>

    <!-- QWeb Reports -->
    <report
        id="hr_payroll_payslip_report"
        model="hr.payslip"
        string="Custom Payslip"
        report_type="qweb-pdf"
        name="hr_payroll_paycheck.payroll_paycheck_template"
        file="hr_payroll_paycheck.payroll_paycheck_template"
        attachment_use = "True"
        attachment="'payroll_paycheck.pdf'"
        print_report_name="'Payslip - %s' % (object.employee_id.name)"
    />

  </data>
</odoo>
