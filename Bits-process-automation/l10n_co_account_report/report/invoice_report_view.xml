<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <record model="ir.ui.view" id="l10n_co_view_account_invoice_report_pivot_inherit">
        <field name="name">l10n_co.account.invoice.report.pivot.inherit</field>
        <field name="model">account.invoice.report</field>
        <field name="inherit_id" ref="account.view_account_invoice_report_pivot"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='price_subtotal']" position="after">
                <field name="country_id" type="measure"/>
                <field name="pay_total" type="measure"/>
            </xpath>
        </field>
    </record>

    <!-- Custom reports -->
    <record id="l10n_co_filter_invoice_collected_projected" model="ir.filters">
        <field name="name">Collected and projected</field>
        <field name="model_id">account.invoice.report</field>
        <field name="domain">['&amp;','&amp;','|',['type','=','out_invoice'],['type','=','out_refund'],'|',['type','=','out_invoice'],['type','=','in_invoice'],['state','not in',['draft','cancel']]]</field>
        <field name="user_id" eval="False"/>
        <field name="context">{
            'pivot_measures': ['price_subtotal', 'amount_total', 'residual', 'pay_total'],
            'pivot_column_groupby': [],
            'pivot_row_groupby': ['invoice_date:month', 'partner_id', 'name'],
            'group_by': ['invoice_date:month', 'invoice_date:week'],
            'set_visible':True
            }</field>
    </record>

    <record id="l10n_co_filter_invoice_by_clients" model="ir.filters">
        <field name="name">Projected by clients</field>
        <field name="model_id">account.invoice.report</field>
        <field name="domain">['&amp;','&amp;','|',['type','=','out_invoice'],['type','=','out_refund'],'|',['type','=','out_invoice'],['type','=','in_invoice'],['state','not in',['draft','cancel']]]</field>
        <field name="user_id" eval="False"/>
        <field name="context">{
            'pivot_measures': ['price_subtotal', 'amount_total', 'residual', 'pay_total'],
            'pivot_column_groupby': [],
            'pivot_row_groupby': ['invoice_date:month', 'partner_id', 'name'],
            'group_by': ['invoice_date:month', 'invoice_date:week', 'partner_id'],
            'set_visible':True
            }</field>
    </record>

    <record id="l10n_co_filter_invoice_by_business_line" model="ir.filters">
        <field name="name">By business line</field>
        <field name="model_id">account.invoice.report</field>
        <field name="domain">['&amp;','&amp;','|',['type','=','out_invoice'],['type','=','out_refund'],'|',['type','=','out_invoice'],['type','=','in_invoice'],['state','not in',['draft','cancel']]]</field>
        <field name="user_id" eval="False"/>
        <field name="context">{
            'pivot_measures': ['price_subtotal', 'amount_total', 'residual', 'pay_total'],
            'pivot_column_groupby': [],
            'pivot_row_groupby': ['account_id'],
            'group_by': ['account_id'],
            'set_visible':True
            }</field>
    </record>

</odoo>
