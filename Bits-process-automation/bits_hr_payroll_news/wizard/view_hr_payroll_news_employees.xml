<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- Cargar Novedad desde el empleado-->
    <record model="ir.ui.view" id="employee_payroll_news_inherit_form_view">
        <field name="name">hr.employee.payroll.news.form.view</field>
        <field name="model">hr.employee</field>
        <field name="inherit_id" ref="hr.view_employee_form"/>
        <field name="arch" type="xml">
             <xpath expr="//header" position="inside">
                <button string="Add Novelty" type="object" class="oe_highlight" name="add_novelty_action"></button>
            </xpath>
            <div class="oe_button_box" position="inside">
                <button class="oe_stat_button" name="payroll_news_view" icon="fa-list-ol" type="object">
                    <field string="Payroll News" name="payroll_news_count" widget="statinfo"/>
                </button>
            </div>
        </field>
    </record>

    <!-- Cargar Novedad desde el empleado Wizard -->
    <record model="ir.ui.view" id="employee_payroll_news_wizard_form">
        <field name="name">hr.employee.payroll.news.wizard.form</field>
        <field name="model">hr.payroll.news.wizard</field>
        <field name="arch" type="xml">
            <form string="Create Novelty">
                <group>
                    <group>
                        <field name="name"/>
                        <field name="payroll_structure_id" options="{'no_create': True}"/>
                        <field name="salary_rule_id" options="{'no_create': True}"/>
                        <field name="date_start"/>
                        <field name="date_end"/>
                        <field name="date_deadline" invisible="1"/>
                    </group>
                    <group>
                        <field name="user_id"
                            class="o_task_user_field"
                            options='{"no_open": True}'/>
                        <field name="quantity"/>
                        <field name="amount"/>
                        <field name="total" readonly="1"/>
                    </group>
                </group>
                <notebook>
                    <page name="description_page" string="Description">
                        <field name="description" placeholder="Add a description..."/>
                        <div class="oe_clear"/>
                    </page>
                </notebook>
                <footer>
                    <button string="Close" class="btn-primary" special="cancel"/>
                    <button
                        string="Add"
                        name="add_novelty_employee_action"
                        type="object" class="send_and_print btn-primary o_mail_send"/>
                </footer>
            </form>
        </field>
    </record>

    <act_window id="launch_employee_payroll_news_wizard"
                name="Create Novelty"
                binding_model="hr.employee.payroll.news"
                res_model="hr.payroll.news.wizard"
                view_mode="form"
                target="new"/>

    <record model="ir.ui.view" id="payroll_news_wizard_form">
        <field name="name">hr.payroll.news.wizard.form</field>
        <field name="model">hr.payroll.news.wizard</field>
        <field name="arch" type="xml">
            <form string="Add Employees">
                <group>
                    <group>
                        <field name="quantity"/>
                        <field name="amount"/>
                    </group>
                    <group>
                        <field name="total" readonly="1"/>
                        <field name="payroll_structure_id"/>
                        <field name="salary_rule_id"/>
                    </group>
                </group>
                <field name="employee_ids"/>
                <footer>
                    <button
                        string="Add"
                        name="add_employees_action"
                        type="object" class="send_and_print btn-primary o_mail_send"/>
                </footer>
            </form>
        </field>
    </record>

    <act_window id="launch_payroll_news_wizard"
                name="Add Employees"
                binding_model="hr.employee.payroll.news"
                res_model="hr.payroll.news.wizard"
                view_mode="form"
                target="new"/>

</odoo>