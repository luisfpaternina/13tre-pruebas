<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="hr_payroll_structure_type_inherit_view_form" model="ir.ui.view">
        <field name="name">hr.payroll.structure.type.inherit.form</field>
        <field name="model">hr.payroll.structure.type</field>
        <field 
            name="inherit_id" 
            ref="hr_payroll.hr_payroll_structure_type_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='wage_type']" position="after">
                <field name="is_novelty"/>
            </xpath>
        </field>
    </record>

    <record id="hr_payroll_structure_inherit_view_form" model="ir.ui.view">
        <field name="name">hr.payroll.structure.form.inherit.form</field>
        <field name="model">hr.payroll.structure</field>
        <field 
            name="inherit_id" 
            ref="hr_payroll.view_hr_employee_grade_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='country_id']" position="after">
                <field name="is_novelty" invisible="1"/>
                <field name="date_range_apply"
                    attrs="{'invisible': [('is_novelty', '=', False)]}"/>
            </xpath>
        </field>
    </record>

    <record id="hr_salary_rule_inherit_view_form" model="ir.ui.view">
        <field name="name">hr.salary.rule.inherit.form</field>
        <field name="model">hr.salary.rule</field>
        <field name="inherit_id" ref="hr_payroll.hr_salary_rule_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='active']" position="after">
                <field name="date_range_apply" invisible="1"/>
                <field name="condition_holiday" attrs="{'invisible': [('date_range_apply', '=', False)]}"/>
            </xpath>
            <xpath expr="//field[@name='appears_on_payslip']" position="after">
                <field name="appears_on_holidays"/>
                <field name="percentaje_fsd" widget= "percentage" attrs="{'invisible': [('code', '!=', '3023')]}"/>
            </xpath>
            <xpath expr="//page[@name='general']/group" position="after">
                <newline/>
                <separator colspan="4" string="Constitutive Calculate"/>
                <group name="Constitutive" col="4">
                    <field name="affect_const_non_const" attrs="{'invisible': [('affect_payslip', '=', 'True')]}"/>
                    <field name="constitutive"/>
                    <field name="non_constitutive_calculate"/>
                    <field name="constitutive_calculate"/>
                    <field name="non_constitutive_percentage"/>
                    <field name="constitutive_percentage"/>
                    <field name="rule_constitutive"/>
                    <field name="rule_non_constitutive"/>
                    <field name="non_const_percentage_up"/>
                    <field name="apply_only_basic_salary"/>
                </group>
                <newline/>
                <separator colspan="4" string="Worked days"/>
                <group name="Worked days" col="4">
                    <field name="affect_payslip"/>
                    <field name="affect_worked_days"/>
                    <field name="affect_percentage_days"/>
                    <field name="not_remunerate"/>
                    <field name="benefit_calculate"/>
                </group>
                <newline/>
                <separator string="Include Holidays rule in FDS" attrs="{ 'invisible': [('code', '!=', '3023')] }"/>
                <group name="holidays rules" attrs="{ 'invisible': [('code', '!=', '3023')] }">
                    <field name="include_holidays_fds" />
                </group>
                <separator colspan="4" string="Include this rule in others"/>
                <group name="Others rules" col="4">
                    <field name="apply_other_rules" />
                    <field name="apply_in" widget="radio" attrs="{ 'required': [('apply_other_rules', '!=', False)] }"/> 
                </group>
                <newline/>
                <separator colspan="4" string="Exclude this rule in others"/>
                <group name="Others rules" col="4">
                    <field name="exclude_other_rules" />
                    <field name="exclude_in" widget="radio" attrs="{'required': [('exclude_other_rules', '!=', False)] }"/> 
                </group>
            </xpath>
        </field>
    </record>
</odoo>
